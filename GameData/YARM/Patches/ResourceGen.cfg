// Reads the planet resource files and applies definitions accordingly

// Variable storage
YARM {
	name = Variables
	
	surfPresenceChance = 100
	surfAbundanceTotal = 100
	surfVariance = 333
	surfDispersal = 3
	ocnPresenceChance = 100
	ocnAbundanceTotal = 100
	ocnVariance = 0
	ocnDispersal = 0
	
	dustConstant = 1.271263691E-06 // Realistic inputs are off by approx x786618.8637 (not exact but close enough)
	
	atmoDistributionType = Spherical // Uniform/Spherical
	atmoAltLowerBound = 0
	atmoAltPeak = 0
	atmoAltVariablity = 0
	atmoAltFalloffType = Linear // Linear/None
	atmoLatUpperBound = 90
	atmoLatLowerBound = -90
	atmoLatPeak = 0
	atmoLatVariablity = 0
	atmoLatFalloffType = None // Linear/None
	
	exoDensityMultiplier = 0.000000236 // For determining density
	exoAreaMultiplier = 81.42857143 // For determining where the exosphere stops
	exoDistributionType = Spherical // Uniform/Spherical
	exoAltPeak = 0
	exoAltVariablity = 0
	exoAltFalloffType = Linear // Linear/None
	exoLatUpperBound = 90
	exoLatLowerBound = -90
	exoLatPeak = 0
	exoLatVariablity = 0
	exoLatFalloffType = None // Linear/None
	
}

// Remove generators that would conflict
// !GLOBAL_RESOURCE:HAS[#ResourceName[Ices],~Patched[True]]:LAST[YARM] {}
// !GLOBAL_RESOURCE:HAS[#ResourceName[Rocks],~Patched[True]]:LAST[YARM] {}
// !GLOBAL_RESOURCE:HAS[#ResourceName[Metallics],~Patched[True]]:LAST[YARM] {}
// !GLOBAL_RESOURCE:HAS[#ResourceName[Salts],~Patched[True]]:LAST[YARM] {}
// !GLOBAL_RESOURCE:HAS[#ResourceName[Crystals],~Patched[True]]:LAST[YARM] {}
// !GLOBAL_RESOURCE:HAS[#ResourceName[Petroleum],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Ices],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Rocks],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Metallics],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Salts],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Crystals],~Patched[True]]:LAST[YARM] {}
// !PLANETARY_RESOURCE:HAS[#ResourceName[Petroleum],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Ices],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Rocks],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Metallics],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Salts],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Crystals],~Patched[True]]:LAST[YARM] {}
// !BIOME_RESOURCE:HAS[#ResourceName[Petroleum],~Patched[True]]:LAST[YARM] {}

// Temporary to make troubleshooting easier
!GLOBAL_RESOURCE:HAS[~Patched[True]]:LAST[YARM] {}
!PLANETARY_RESOURCE:HAS[~Patched[True]]:LAST[YARM] {}
!BIOME_RESOURCE:HAS[~Patched[True]]:LAST[YARM] {}
!SPACEDUST_RESOURCE:HAS[~Patched[True]]:LAST[YARM] {}

// Atmosphere/Exosphere
// Nitrogen
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Nitrogen
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Nitrogen[*]]]
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Nitrogen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Nitrogen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// Hydrogen
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Hydrogen
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Hydrogen[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Hydrogen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Hydrogen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// Oxygen
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Oxygen
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Oxygen[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Oxygen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Oxygen$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// Water
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Water
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Water[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Water$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Water$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// CarbonDioxide
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = CarbonDioxide
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~CarbonDioxide[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/CarbonDioxide$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/CarbonDioxide$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// Methane
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Methane
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Methane[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Methane$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Methane$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// Ammonia
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = Ammonia
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~Ammonia[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Ammonia$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/Ammonia$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// ArgonGas
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = ArgonGas
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~ArgonGas[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/ArgonGas$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/ArgonGas$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

// XenonGas
+SPACEDUST_RESOURCE:HAS[#Type[Atmosphere],~resourceName[*]]:NEEDS[SpaceDust,CommunityResourcePack] {
	resourceName = XenonGas
	Patched = True
	-Type = 0
	!RESOURCEBAND[*]:HAS[@RESOURCES:HAS[~XenonGas[*]]] {}
	@RESOURCEBAND[atmo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/XenonGas$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/atmoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		altLowerBound = #$@YARM[Variables]/atmoAltLowerBound$
		altPeak = #$@YARM[Variables]/atmoAltPeak$
		altVariability = #$@YARM[Variables]/atmoAltVariablity$
		altFalloffType = #$@YARM[Variables]/atmoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/atmoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/atmoLatLowerBound$
		latPeak = #$@YARM[Variables]/atmoLatPeak$
		latVariability = #$@YARM[Variables]/atmoLatVariablity$
		latFalloffType = #$@YARM[Variables]/atmoLatFalloffType$
		!RESOURCES {}
	}
	@RESOURCEBAND[exo*] {
		minAbundance = #$/STATS/atmoDensity$
		@minAbundance *= #$@YARM[Variables]/exoDensityMultiplier$
		@minAbundance *= #$@YARM[Variables]/dustConstant$
		@minAbundance *= #$RESOURCES/XenonGas$
		maxAbundance = #$minAbundance$
		distributionType = #$@YARM[Variables]/exoDistributionType$
		altUpperBound = #$/STATS/atmoHeight$
		@altUpperBound *= #$@YARM[Variables]/exoAreaMultiplier$
		altLowerBound = #$/STATS/atmoHeight$
		altPeak = #$@YARM[Variables]/exoAltPeak$
		altVariability = #$@YARM[Variables]/exoAltVariablity$
		altFalloffType = #$@YARM[Variables]/exoAltFalloffType$
		latUpperBound = #$@YARM[Variables]/exoLatUpperBound$
		latLowerBound = #$@YARM[Variables]/exoLatLowerBound$
		latPeak = #$@YARM[Variables]/exoLatPeak$
		latVariability = #$@YARM[Variables]/exoLatVariablity$
		latFalloffType = #$@YARM[Variables]/exoLatFalloffType$
		!RESOURCES {}
	}
	!STATS {}
}

!SPACEDUST_RESOURCE:HAS[#Patched[True],!RESOURCEBAND[*]]:NEEDS[SpaceDust,CommunityResourcePack] {}

// Surface
// Ices
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]] {
	ResourceName = Ices
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Ices[0.0]] {
		@Ices = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Ices$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Rocks
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = Rocks
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Rocks[0.0]] {
		@Rocks = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Rocks$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Metallics
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]] {
	ResourceName = Metallics
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Metallics[0.0]] {
		@Metallics = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Metallics$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Salts
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = Salts
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Salts[0.0]] {
		@Salts = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Salts$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Crystals
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]] {
	ResourceName = Crystals
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Crystals[0.0]] {
		@Crystals = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Crystals$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Petroleum
+BIOME_RESOURCE:HAS[#Type[Surface],~ResourceName[*]] {
	ResourceName = Petroleum
	ResourceType = 0
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Petroleum[0.0]] {
		@Petroleum = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Petroleum$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Ocean
// Water
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = Water
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Water[0.0]] {
		@Water = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Water$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// HydrogenPeroxide
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]] {
	ResourceName = HydrogenPeroxide
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#HydrogenPeroxide[0.0]] {
		@HydrogenPeroxide = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/HydrogenPeroxide$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Salts
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = Salts
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Salts[0.0]] {
		@Salts = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Salts$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// LqdMethane
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = LqdMethane
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#LqdMethane[0.0]] {
		@LqdMethane = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/LqdMethane$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// LqdOxygen
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = LqdOxygen
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#LqdOxygen[0.0]] {
		@LqdOxygen = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/LqdOxygen$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}

// Kerosene
+PLANETARY_RESOURCE:HAS[#Type[Ocean],~ResourceName[*]]:NEEDS[CommunityResourcePack] {
	ResourceName = Kerosene
	ResourceType = 1
	Patched = True
	-Type = 0
	@RESOURCES:HAS[#Kerosene[0.0]] {
		@Kerosene = -1.0
	}
	Distribution {
		PresenceChance = #$@YARM[Variables]/surfPresenceChance$
		MinAbundance = #$@YARM[Variables]/surfAbundanceTotal$
		@MinAbundance *= #$/RESOURCES/Kerosene$
		MaxAbundance = #$MinAbundance$
		Variance = #$@YARM[Variables]/surfVariance$
		Dispersal = #$@YARM[Variables]/surfDispersal$
	}
	@Distribution:HAS[#MinAbundance[100]] {
		@Variance = 0
		@Dispersal = 0
	}
	!RESOURCES {}
}