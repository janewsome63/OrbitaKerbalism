// ============================================================================
// Orbita Kerbalism - default profile
// ============================================================================

Profile {
	name = orbita

   // Resource notifications
	Supply {
		resource = CarbonDioxide
		low_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_low
		empty_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_refilled
	}
	
	Supply {
		resource = ElectricCharge
		on_eva = 33.0
		on_rescue = 10000.0
		low_message = #OrbitaLoc_Kerbalism_alert_battery_low
		empty_message = #OrbitaLoc_Kerbalism_alert_battery_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_battery_refilled
	}
  
	Supply {
		resource = Food
		on_pod = 1.35    // 5 days
		on_rescue = 2.2  // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_food_low
		empty_message = #OrbitaLoc_Kerbalism_alert_food_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_food_refilled
	}
	
	Supply {
		resource = Nitrogen
		on_rescue = 100.0
		low_message = #OrbitaLoc_Kerbalism_alert_nitrogen_low
		empty_message = #OrbitaLoc_Kerbalism_alert_nitrogen_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_nitrogen_refilled
	}
	
	Supply {
		resource = Oxygen
		on_pod = 187      // 5 days
		on_eva = 12.5     // 2 hrs
		on_rescue = 298   // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_oxygen_low
		empty_message = #OrbitaLoc_Kerbalism_alert_oxygen_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_oxygen_refilled
	}
	
	Supply {
		resource = Water
		on_pod = 0.7     // 5 days
		on_rescue = 1.1  // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_water_low
		empty_message = #OrbitaLoc_Kerbalism_alert_water_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_water_refilled
	}

   // Systems
	Rule {
		name = breathing
		title = #OrbitaLoc_Kerbalism_rules_breathing_name
		input = Oxygen
		output = WasteAtmosphere
		rate = 0.00172379825 // Based on ISS figures of 0.84Kg/day. Kerbals use 1/16 of an astronauts use giving figures of 0.0525Kg/day.
							 // Oxygen to WasteAtmosphere mass difference is calculated internally
		degeneration = 0.0055555 // 3 minutes
		modifier = non_breathable
		individuality = 0.01
		warning_message = #OrbitaLoc_Kerbalism_rules_breathing_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_breathing_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_breathing_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_breathing_relax
	}
	
	Rule {
		name = climatization
		title = #OrbitaLoc_Kerbalism_rules_climatization_name
		input = ElectricCharge
		rate = 0.0001 // per-kelvin (temp diff), per m^3 (living space), per-second
		degeneration = 0.00000007 // about 2h at 100k temp diff in 20m^3
		modifier = temperature,volume,per_capita
		warning_message = #OrbitaLoc_Kerbalism_rules_climatization_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_climatization_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_climatization_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_climatization_relax
	}
	
	Rule {
		name = co2level
		title = #OrbitaLoc_Kerbalism_rules_co2level_name
		degeneration = 0.0005555 // 30 minutes
		modifier = poisoning
		warning_threshold = 0.23
		warning_message = #OrbitaLoc_Kerbalism_rules_co2level_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_co2level_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_breathing_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_breathing_relax
	}
	
	Rule {
		name = drinking
		title = #OrbitaLoc_Kerbalism_rules_drinking_name
		input = Water
		output = WasteWater
		rate = 0.03359375 // Based on ISS figures of 1.62Kg/day drinking and 0.8Kg/day to rehydrate food 3 times/day = 2.42 Kg/day.
						  // Kerbals use 1/16 of an astronauts use and have 2 meals/day giving figures of 0.10125Kg/day drinking
						  // and 0.033125Kg/day to rehydrate food 2 times/day = 0.134375Kg/day.
						  // Water to WasteWater mass difference is calculated internally.
		interval = 5400.0 // 4 drinks per-day
		degeneration = 0.08333 // 12 drinks, 3 days
		individuality = 0.01
		warning_message = #OrbitaLoc_Kerbalism_rules_drinking_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_drinking_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_drinking_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_drinking_relax
	}
	
	Rule {
		name = eating
		title = #OrbitaLoc_Kerbalism_rules_eating_name
		input = Food
		output = Waste
		rate = 0.1312141885 // Based on ISS figures of dehydrated food of 0.59Kg/meal 3 times/day = 1.77Kg/day.
							// Kerbals use 1/16 of an astronauts use and have 2 meals/day giving figures of 0.036875Kg/meal = 0.07375Kg/day
							// Food to Waste mass difference is calculated internally
		interval = 10800.0  // 2 meals per-day
		individuality = 0.01
		degeneration = 0.03333 // 30 meals, 15 days
		warning_message = #OrbitaLoc_Kerbalism_rules_eating_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_eating_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_eating_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_eating_relax
	}

	Rule {
		name = stress
		title = #OrbitaLoc_Kerbalism_rules_stress_name
		degeneration = 0.00000000463 // 10000 days
		variance = 0.33 // add per-kerbal variance
		individuality = 0.1
		modifier = living_space,comfort,pressure
		breakdown = true // trigger breakdown event instead of death
		warning_message = #OrbitaLoc_Kerbalism_rules_stress_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_stress_danger
		relax_message = #OrbitaLoc_Kerbalism_rules_stress_relax
	}
	
	Rule {
		name = radiation
		title = #OrbitaLoc_Kerbalism_rules_radiation_name
		degeneration = 1.0 // just use the modifier
		variance = 0.1 // add per-kerbal variance
		individuality = 0.15
		lifetime = true // this is a life time value
		modifier = radiation,shielding
		warning_threshold = 25.0
		danger_threshold = 37.5
		fatal_threshold = 50.0
		warning_message = #OrbitaLoc_Kerbalism_rules_radiation_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_radiation_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_radiation_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_radiation_relax
	}
	
   // Processes
	// Backend
	Process {
		// convention: When the vessel is in a breathable atmosphere, pressure control is automatically disabled and the air pump will pump air
		// into the vessel to maintain pressurization of any habitable areas, one example is inflating inflatable habitats without using any
		// N2 when a breathable atmosphere is present.
		name = airpump
		title = #OrbitaLoc_Kerbalism_process_airpump
		modifier = _AirPump,breathable
		input = ElectricCharge@0.00258
		output = Atmosphere@7.35
	}

	Process {
		name = atmosphereleaks
		title = #OrbitaLoc_Kerbalism_process_atmosphereleaks
		modifier = surface,non_breathable
		input = Atmosphere@0.000001899785682  // leakage of Atmosphere (N2) per second for a surface area of 1 m²
		// From ISS: see https://www.nasa.gov/pdf/179225main_ISS_Poster_Back.pdf and https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20110012997.pdf
		// 935 m³ volume, ~1105 m² surface (estimated), 0.227 Kg/day (structural)
		// Surface estimation: see the "Atmo Leak Estimation" spreadsheet in misc.
		// 1 Kerbin day is 1/4 of a human day so 0.227/4 = 0.05675 Kg/day
		// 0.05675 Kg/day over 1105 m² = 0.0513352488 (g/m²)/day.
		// Using the density of N2 from CRP we get 1.251 g/KSPunit = 0.0410353707 (unit/m²)/day
		// That divided over 21600 secs = 0.000001899785682 (unit/m²)/sec
	}
	
	Process {
		// convention: 1 capacity = enough to compensate for leaks in 70 m² surface area (a cube of 40 m³ volume, edge length of 3.42 m) per crew member
		// = 0.00025624796502 N2 to replace the Atmosphere leaked via the atmo leaks process for the above approx needed surface area per crew member
		name = pressurecontrol
		title = #OrbitaLoc_Kerbalism_process_pressurecontrol
		modifier = _PressureControl,non_breathable
		input = ElectricCharge@0.00858
		input = Nitrogen@0.35  // Much higher than amount needed for leak control to allow speedier pressurization of low pressure habs and inflatables
		output = Atmosphere@0.35
	}

	// Life Support
	Process {
		// convention: 1 capacity = enough to scrub output of 1 crew member
		name = scrubber
		title = #OrbitaLoc_Kerbalism_process_scrubber
		modifier = _Scrubber
		input = ElectricCharge@0.025
		input = WasteAtmosphere@0.00124579975
		output = CarbonDioxide@0.00124579975
		dump = true
	}
	
	Process {
		// convention: 1 capacity = enough to scrub output of 1 crew member for 1 day
		name = nonregenenscrubber
		title = #OrbitaLoc_Kerbalism_process_nonregenscrubber
		modifier = _NonRegenScrubber
		input = WasteAtmosphere@0.0024915995    // efficiency starts at 2 (2 x a pods scrubber), reaches 1 in 6h, then drops below
		input = _NonRegenScrubber@0.000023148   // consume 0.5 capacity in 6h, simulates the scrubber wearing out over time.
	}

	Process {
		// convention: 1 capacity = enough to recycle output of 1 crew member
		name = waterrecycler
		title = #OrbitaLoc_Kerbalism_process_waterrecycler
		modifier = _WaterRecycler
		input = ElectricCharge@0.0446
		input = WasteWater@0.00000619
		output = Water@0.000005262975 // ISS currently achieves 75% Water recovery from urine, although its design target was 85% (quality of urine is issue), we use the design target to be gentle on our users
		output = Ammonia@0.0000361969 // Based on https://en.wikipedia.org/wiki/Urine assume we recover 90% of 0.5% mass percentage of Ammonia, keep in mind Ammonia is far less dense than Water
		output = CarbonDioxide@0.0000142678 // Based on https://en.wikipedia.org/wiki/Urine assume we recover 90% of 0.5% mass percentage of CarbonDioxide, keep in mind CO2 is far less dense than Water
		dump_valve = Water,Ammonia,CarbonDioxide,Water&Ammonia,Water&CarbonDioxide,Ammonia&CarbonDioxide,Water&Ammonia&CarbonDioxide
	}

	// Power Generation
	Process {
		name = clampgenerator
		title = #OrbitaLoc_Kerbalism_process_clampgenerator
		modifier = _ClampGen
		output = ElectricCharge@1.0
	}
	
	Process {
		name = hydrazinefuelcell
		title = #OrbitaLoc_Kerbalism_process_hydrazinefuelcell
		modifier = _HydrazineFuelCell
		input = Oxygen@0.510619148925
		input = Hydrazine@0.000718143525
		output = Nitrogen@0.5038381295
		output = Water@0.0008106876
		output = ElectricCharge@0.1
		dump_valve = Nitrogen,Water,Nitrogen&Water
	}
	
	Process {
		name = hydrogenfuelcell
		title = #OrbitaLoc_Kerbalism_process_hydrogenfuelcell
		modifier = _HydrogenFuelCell
		input = Hydrogen@1.0011122892
		input = Oxygen@0.5065967413
		output = Water@0.0008043014
		output = ElectricCharge@2.4026694940  // calculated from H2 @3.75ml/s gives 9W = 2400W/Liter. Referenced from page 14 of https://peer.asee.org/performance-of-a-pem-fuel-cell-system.pdf
		dump_valve = Water
	}

	Process {
		name = rtg
		title = #OrbitaLoc_Kerbalism_process_rtg
		modifier = _RTG
		input = _RTG@0.000000001888 // 28.8 kerbin-year half-life
		output = ElectricCharge@1.0
	}
	
	Process {
		name = wasteincinerator
		title = #OrbitaLoc_Kerbalism_process_wasteincinerator
		modifier = _WasteIncinerator
		input = Waste@0.0001082667 // H18C82
		input = Oxygen@0.1589194249
		output = CarbonDioxide@0.1497439605
		output = Water@0.0000131259
		output = ElectricCharge@0.005
		dump_valve = Water,ElectricCharge,Water&ElectricCharge
	}

	// Production (standardized input volume of 1 with gases pressurized by the multipliers in tanktypes. EC is multiplied by 1.15 for waste heat)
	Process {
		name = crystalprocessor
		title = #OrbitaLoc_Kerbalism_process_crystalprocessor
		modifier = _CrystalProcessor
		input = Crystals@1.0
		input = ElectricCharge@0.54068285
		output = CarbonDioxide@644.031266
		output = Oxygen@323.9822695
		output = Lithium@0.742846442
		dump_valve = CarbonDioxide,Oxygen,Lithium,CarbonDioxide&Oxygen,CarbonDioxide&Lithium,Oxygen&Lithium
	}
	
	Process {
		name = iceprocessor
		title = #OrbitaLoc_Kerbalism_process_iceprocessor
		modifier = _IceProcessor
		input = Ices@1.0
		input = ElectricCharge@0.19097245
		output = Water@0.313541972
		output = CarbonDioxide@130.8243772
		output = Methane@259.5446583
		output = Ammonia@128.4345228
		dump_valve = Water,CarbonDioxide,Methane,Ammonia,Water&CarbonDioxide,Water&Methane,Water&Ammonia,CarbonDioxide&Methane,CarbonDioxide&Ammonia,Methane&Ammonia,Water&CarbonDioxide&Methane,Water&CarbonDioxide&Ammonia,CarbonDioxide&Methane&Ammonia
	}
	
	Process {
		name = metalprocessor
		title = #OrbitaLoc_Kerbalism_process_metalprocessor
		modifier = _MetalProcessor
		input = Metallics@1.0
		input = ElectricCharge@5.6068825
		output = Oxygen@1048.315603
		output = Silicon@0.278542293
		output = Aluminium@0.224963899
		dump_valve = Oxygen,Silicon,Aluminium,Oxygen&Silicon,Oxygen&Aluminium,Silicon&Aluminium
	}
	
	Process {
		name = rockprocessor
		title = #OrbitaLoc_Kerbalism_process_rockprocessor
		modifier = _RockProcessor
		input = Rocks@1.0
		input = ElectricCharge@3.6270701
		output = Oxygen@1000.609929
		output = Silicon@0.531820524
		output = Uraninite@0.000070667
		dump_valve = Oxygen,Silicon,Uraninite,Oxygen&Silicon,Oxygen&Uraninite,Silicon&Uraninite
	}
	
	Process {
		name = saltprocessor
		title = #OrbitaLoc_Kerbalism_process_saltprocessor
		modifier = _SaltProcessor
		input = Salts@1.0
		input = ElectricCharge@0.51775875
		output = Oxygen@733.6755319
		output = Ammonia@477.3472042
		output = Nitrogen@241.3069544
		output = Hydrogen@241.7686318
		dump_valve = Oxygen,Ammonia,Nitrogen,Hydrogen,Oxygen&Ammonia,Oxygen&Nitrogen,Oxygen&Hydrogen,Ammonia&Nitrogen,Ammonia&Hydrogen,Nitrogen&Hydrogen,Oxygen&Ammonia&Nitrogen,Oxygen&Ammonia&Hydrogen,Ammonia&Nitrogen&Hydrogen
	}
	
	Process {
		name = petroleumrefinery
		title = #OrbitaLoc_Kerbalism_process_petroleumrefinery
		modifier = _PetroleumRefinery
		input = Petroleum@1.0
		input = ElectricCharge@3.88175025
		output = Kerosene@1.036585366
	}
	
	Process {
		name = sabatierreactor
		title = #OrbitaLoc_Kerbalism_process_sabatierreactor
		modifier = _SabatierReactor
		input = CarbonDioxide@85.59866735
		input = Hydrogen@340.230
		input = ElectricCharge@0.190678865
		output = Water@0.13673228
		output = Methane@79.3451369
		dump_valve = Water,Methane
	}
	
	Process {
		name = haberprocessor
		title = #OrbitaLoc_Kerbalism_process_haberprocessor
		modifier = _HaberProcessor
		input = Nitrogen@149.701
		input = Hydrogen@449.865088
		input = ElectricCharge@0.332526397
		output = Ammonia@296.1233698
	}
	
	Process {
		name = anthraprocessor
		title = #OrbitaLoc_Kerbalism_process_anthraprocessor
		modifier = _AnthraProcessor
		input = Oxygen@345.3613702
		input = Hydrogen@340.230
		input = ElectricCharge@0.022179609
		output = HydrogenPeroxide@0.356928966
	}
	
	Process {
		name = hydrazineproduction
		title = #OrbitaLoc_Kerbalism_process_hydrazineproduction
		modifier = _HydrazineProduction
		input = Ammonia@1887.829706 // 8.506
		input = HydrogenPeroxide@1.0 // 0.004504828
		input = ElectricCharge@1.335724238 // 0.006009962
		output = Water@1.535601337 // 0.006909289
		output = Hydrazine@1.360696875 // 0.006122276
		dump_valve = Water,Hydrazine
	}
	
	Process {
		name = h2oelectrolysis
		title = #OrbitaLoc_Kerbalism_process_h2oelectrolysis
		modifier = _H2OElectrolysis
		input = Water@1.0
		input = ElectricCharge@20.142
		output = Oxygen@629.7163121
		output = Hydrogen@1244.716352
		dump_valve = Oxygen,Hydrogen
	}
	
	Process {
		name = co2electrolysis
		title = #OrbitaLoc_Kerbalism_process_co2electrolysis
		modifier = _CO2Electrolysis
		input = CarbonDioxide@44.412
		input = ElectricCharge@1.985868013
		output = Oxygen@44.68209986
		output = Waste@0.031528319
		dump_valve = Oxygen,Waste
	}
	
	Process {
		name = ch4pyrolysis
		title = #OrbitaLoc_Kerbalism_process_ch4pyrolysis
		modifier = _CH4Pyrolysis
		input = Methane@197.333
		input = ElectricCharge@0.125420711
		output = Waste@0.141261381
		output = Hydrogen@395.5053882
		dump_valve = Waste,Hydrogen
	}
	
	Process {
		name = nh3decomposition
		title = #OrbitaLoc_Kerbalism_process_nh3decomposition
		modifier = _NH3Decomposition
		input = Ammonia@8.506
		input = ElectricCharge@0.005406235
		output = Nitrogen@4.300014708
		output = Hydrogen@12.92193103
		dump_valve = Nitrogen,Hydrogen
	}
	
	Process {
		name = uo2enrichment
		title = #OrbitaLoc_Kerbalism_process_uo2enrichment
		modifier = _UO2Enrichment
		input = Uraninite@0.01 // Much lower volume throughput than the standard, enrichment is slow
		input = ElectricCharge@5.4
		output = DepletedUranium@0.005022334
		output = EnrichedUranium@0.00100433
		output = Oxygen@6.303191489
		dump_valve = Oxygen
	}
	
	Process {
		name = nh3condenser
		title = #OrbitaLoc_Kerbalism_process_nh3condenser
		modifier = _NH3Condenser
		input = Ammonia@8.506
		input = ElectricCharge@0.001826148
		output = LqdAmmonia@0.009316499
	}
	
	Process {
		name = nh3evaporator
		title = #OrbitaLoc_Kerbalism_process_nh3evaporator
		modifier = _NH3Evaporator
		input = LqdAmmonia@1.188
		input = ElectricCharge@0.232862612
		output = Ammonia@1084.648635
	}
	
	Process {
		name = co2condenser
		title = #OrbitaLoc_Kerbalism_process_co2condenser
		modifier = _CO2Condenser
		input = CarbonDioxide@44.412
		input = ElectricCharge@0.007291431
		output = LqdCO2@0.073852812
	}
	
	Process {
		name = co2evaporator
		title = #OrbitaLoc_Kerbalism_process_co2evaporator
		modifier = _CO2Evaporator
		input = LqdCO2@1.979
		input = ElectricCharge@0.195384712
		output = CarbonDioxide@1190.099032
	}
	
	Process {
		name = h2condenser
		title = #OrbitaLoc_Kerbalism_process_h2condenser
		modifier = _H2Condenser
		input = Hydrogen@340.23
		input = ElectricCharge@0.119490817
		output = LqdHydrogen@0.431710332
	}
	
	Process {
		name = h2evaporator
		title = #OrbitaLoc_Kerbalism_process_h2evaporator
		modifier = _H2Evaporator
		input = LqdHydrogen@7.5
		input = ElectricCharge@2.0758875
		output = Hydrogen@5910.734149
	}
	
	Process {
		name = ch4condenser
		title = #OrbitaLoc_Kerbalism_process_ch4condenser
		modifier = _CH4Condenser
		input = Methane@197.333
		input = ElectricCharge@0.086237946
		output = LqdMethane@0.332435236
	}
	
	Process {
		name = ch4evaporator
		title = #OrbitaLoc_Kerbalism_process_ch4evaporator
		modifier = _CH4Evaporator
		input = LqdMethane@5.0
		input = ElectricCharge@1.297085
		output = Methane@2967.991632
	}
	
	Process {
		name = n2condenser
		title = #OrbitaLoc_Kerbalism_process_n2condenser
		modifier = _N2Condenser
		input = Nitrogen@149.701
		input = ElectricCharge@0.082521329
		output = LqdNitrogen@0.227026745
	}
	
	Process {
		name = n2evaporator
		title = #OrbitaLoc_Kerbalism_process_n2evaporator
		modifier = _N2Evaporator
		input = LqdNitrogen@3.3
		input = ElectricCharge@1.1995071
		output = Nitrogen@2176.013669
	}
	
	Process {
		name = o2condenser
		title = #OrbitaLoc_Kerbalism_process_o2condenser
		modifier = _O2Condenser
		input = Oxygen@136.092
		input = ElectricCharge@0.035837324
		output = LqdOxygen@0.168176792
	}
	
	Process {
		name = o2evaporator
		title = #OrbitaLoc_Kerbalism_process_o2evaporator
		modifier = _O2Evaporator
		input = LqdOxygen@4.382120947
		input = ElectricCharge@0.933799299
		output = Oxygen@3546.099291
	}
	
	Process {
		name = shieldingsynth
		title = #OrbitaLoc_Kerbalism_process_shieldingsynth
		modifier = _ShieldingSynthesis
		input = DepletedUranium@0.968142697
		input = CarbonDioxide@1647.41489
		input = Silicon@0.53803645
		input = Hydrogen@30006.380903
		input = ElectricCharge@1 // change later
		output = Shielding@1.000000026
		output = Oxygen@1012.596127
		dump_valve = Oxygen
	}
	
	Process {
		name = partassembly
		title = #OrbitaLoc_Kerbalism_process_partassembly
		modifier = _PartAssembly
		input = Aluminium@0.720148917
		input = Silicon@0.285503435
		input = ElectricCharge@1 // change later
		output = RocketParts@1.0639
	}
}
	
@PART[TinyISRU,MiniISRU,ISRU]:FOR[OrbitaKerbalism] {
	!MODULE[ModuleResourceConverter],* {}
	!MODULE[ModuleOverheatDisplay],* {}
	!MODULE[ModuleCoreHeat],* {}
	
	MODULE {
		name = ProcessController
		resource = _CrystalProcessor
		title = #OrbitaLoc_Kerbalism_process_crystalprocessor
		capacity = 1
		valve_i = 2 // workaround until we have a better way to deal with dump valves
	}
	
	MODULE {
		name = ProcessController
		resource = _IceProcessor
		title = #OrbitaLoc_Kerbalism_process_iceprocessor
		capacity = 1
		valve_i = 2
	}
	
	MODULE {
		name = ProcessController
		resource = _MetalProcessor
		title = #OrbitaLoc_Kerbalism_process_metalprocessor
		capacity = 1
		valve_i = 2
	}
	
	MODULE {
		name = ProcessController
		resource = _RockProcessor
		title = #OrbitaLoc_Kerbalism_process_rockprocessor
		capacity = 1
		valve_i = 2
	}
	
	MODULE {
		name = ProcessController
		resource = _SaltProcessor
		title = #OrbitaLoc_Kerbalism_process_saltprocessor
		capacity = 1
		valve_i = 2
	}
	
	MODULE {
		name = ProcessController
		resource = _PetroleumRefinery
		title = #OrbitaLoc_Kerbalism_process_petroleumrefinery
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _SabatierReactor
		title = #OrbitaLoc_Kerbalism_process_sabatierreactor
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _HaberProcessor
		title = #OrbitaLoc_Kerbalism_process_haberprocessor
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _AnthraProcessor
		title = #OrbitaLoc_Kerbalism_process_anthraprocessor
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _HydrazineProduction
		title = #OrbitaLoc_Kerbalism_process_hydrazineproduction
		capacity = 1
	}

	MODULE {
		name = ProcessController
		resource = _H2OElectrolysis
		title = #OrbitaLoc_Kerbalism_process_h2oelectrolysis
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CO2Electrolysis
		title = #OrbitaLoc_Kerbalism_process_co2electrolysis
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CH4Pyrolysis
		title = #OrbitaLoc_Kerbalism_process_ch4pyrolysis
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _NH3Decomposition
		title = #OrbitaLoc_Kerbalism_process_nh3decomposition
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _UO2Enrichment
		title = #OrbitaLoc_Kerbalism_process_uo2enrichment
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _NH3Condenser
		title = #OrbitaLoc_Kerbalism_process_nh3condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _NH3Evaporator
		title = #OrbitaLoc_Kerbalism_process_nh3evaporator
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CO2Condenser
		title = #OrbitaLoc_Kerbalism_process_co2condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CO2Evaporator
		title = #OrbitaLoc_Kerbalism_process_co2evaporator
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _H2Condenser
		title = #OrbitaLoc_Kerbalism_process_h2condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _H2Evaporator
		title = #OrbitaLoc_Kerbalism_process_h2evaporator
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CH4Condenser
		title = #OrbitaLoc_Kerbalism_process_ch4condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _CH4Evaporator
		title = #OrbitaLoc_Kerbalism_process_ch4evaporator
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _N2Condenser
		title = #OrbitaLoc_Kerbalism_process_n2condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _N2Evaporator
		title = #OrbitaLoc_Kerbalism_process_n2evaporator
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _O2Condenser
		title = #OrbitaLoc_Kerbalism_process_o2condenser
		capacity = 1
	}
	
	MODULE {
		name = ProcessController
		resource = _O2Evaporator
		title = #OrbitaLoc_Kerbalism_process_o2evaporator
		capacity = 1
	}
	
	MODULE {
		name = Configure
		title = #autoLOC_500652
		slots = 6
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_empty
			desc = #OrbitaLoc_Kerbalism_process_empty_desc
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_crystalprocessor
			desc = #OrbitaLoc_Kerbalism_process_crystalprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CrystalProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_iceprocessor
			desc = #OrbitaLoc_Kerbalism_process_iceprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _IceProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_metalprocessor
			desc = #OrbitaLoc_Kerbalism_process_metalprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _MetalProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_rockprocessor
			desc = #OrbitaLoc_Kerbalism_process_rockprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _RockProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_saltprocessor
			desc = #OrbitaLoc_Kerbalism_process_saltprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _SaltProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_petroleumrefinery
			desc = #OrbitaLoc_Kerbalism_process_petroleumrefinery_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _PetroleumRefinery
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_sabatierreactor
			desc = #OrbitaLoc_Kerbalism_process_sabatierreactor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _SabatierReactor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_haberprocessor
			desc = #OrbitaLoc_Kerbalism_process_haberprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _HaberProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_anthraprocessor
			desc = #OrbitaLoc_Kerbalism_process_anthraprocessor_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _AnthraProcessor
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_hydrazineproduction
			desc = #OrbitaLoc_Kerbalism_process_hydrazineproduction_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _HydrazineProduction
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_h2oelectrolysis
			desc = #OrbitaLoc_Kerbalism_process_h2oelectrolysis_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _H2OElectrolysis
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_co2electrolysis
			desc = #OrbitaLoc_Kerbalism_process_co2electrolysis_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CO2Electrolysis
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_ch4pyrolysis
			desc = #OrbitaLoc_Kerbalism_process_ch4pyrolysis_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CH4Pyrolysis
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_nh3decomposition
			desc = #OrbitaLoc_Kerbalism_process_nh3decomposition_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _NH3Decomposition
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_uo2enrichment
			desc = #OrbitaLoc_Kerbalism_process_uo2enrichment_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _UO2Enrichment
			}
			
			RESOURCE {
				name = DepletedUranium
				amount = 0.0
				maxAmount = 5.0
			}
			
			RESOURCE {
				name = EnrichedUranium
				amount = 0.0
				maxAmount = 1.0
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_nh3condenser
			desc = #OrbitaLoc_Kerbalism_process_nh3condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _NH3Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_nh3evaporator
			desc = #OrbitaLoc_Kerbalism_process_nh3evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _NH3Evaporator
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_co2condenser
			desc = #OrbitaLoc_Kerbalism_process_co2condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CO2Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_co2evaporator
			desc = #OrbitaLoc_Kerbalism_process_co2evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CO2Evaporator
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_h2condenser
			desc = #OrbitaLoc_Kerbalism_process_h2condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _H2Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_h2evaporator
			desc = #OrbitaLoc_Kerbalism_process_h2evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _H2Evaporator
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_ch4condenser
			desc = #OrbitaLoc_Kerbalism_process_ch4condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CH4Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_ch4evaporator
			desc = #OrbitaLoc_Kerbalism_process_ch4evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _CH4Evaporator
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_n2condenser
			desc = #OrbitaLoc_Kerbalism_process_n2condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _N2Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_n2evaporator
			desc = #OrbitaLoc_Kerbalism_process_n2evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _N2Evaporator
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_o2condenser
			desc = #OrbitaLoc_Kerbalism_process_o2condenser_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _O2Condenser
			}
		}
		
		SETUP {
			name = #OrbitaLoc_Kerbalism_process_o2evaporator
			desc = #OrbitaLoc_Kerbalism_process_o2evaporator_desc

			MODULE {
				type = ProcessController
				id_field = resource
				id_value = _O2Evaporator
			}
		}
	}
}

@PART[MiniISRU]:AFTER[OrbitaKerbalism] {
	@MODULE[ProcessController],* {
		@capacity /= 1.5
	}

	@MODULE[Configure] {
		@title = #autoLOC_500661
		@slots = 4
	}
}

@PART[TinyISRU]:AFTER[OrbitaKerbalism] {
	@MODULE[ProcessController],* {
		@capacity /= 3
	}
	
	@MODULE[Configure] {
		@title = #OrbitaLoc_Part_TinyISRU_title
		@slots = 2
	}
}

// Science Lab
@PART[Large_Crewed_Lab]:FOR[OrbitaKerbalism] {
	MODULE {
		name = ProcessController
		resource = _ShieldingSynthesis
		title = #OrbitaLoc_Kerbalism_process_shieldingsynth
		capacity = 1
		valve_i = 2
	}
	
	MODULE {
		name = ProcessController
		resource = _PartAssembly
		title = #OrbitaLoc_Kerbalism_process_partassembly
		capacity = 1
	}
		
	SETUP {
		name = #OrbitaLoc_Kerbalism_process_shieldingsynth
		//desc = #OrbitaLoc_Kerbalism_process_shieldingsynth_desc

		MODULE {
			type = ProcessController
			id_field = resource
			id_value = _ShieldingSynthesis
		}
		
		RESOURCE {
			name = Shielding
			amount = 0
			maxAmount = 50 // change this
		}
	}
	
	SETUP {
		name = #OrbitaLoc_Kerbalism_process_partassembly
		//desc = #OrbitaLoc_Kerbalism_process_partassembly_desc

		MODULE {
			type = ProcessController
			id_field = resource
			id_value = _PartAssembly
		}
		
		RESOURCE {
			name = RocketParts
			amount = 0
			maxAmount = 200 // change this
		}
	}
}

// Psuedo Resources
RESOURCE_DEFINITION {
	name = _AirPump
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _PressureControl
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _Scrubber
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _NonRegenScrubber
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _WaterRecycler
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _ClampGen
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _HydrazineFuelCell
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _HydrogenFuelCell
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _RTG
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _WasteIncinerator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CrystalProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _IceProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _MetalProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _RockProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _SaltProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _PetroleumRefinery
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _SabatierReactor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _HaberProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _AnthraProcessor
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _HydrazineProduction
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _H2OElectrolysis
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CO2Electrolysis
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CH4Pyrolysis
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _NH3Decomposition
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _UO2Enrichment
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _NH3Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _NH3Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CO2Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CO2Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _H2Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _H2Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CH4Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _CH4Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _N2Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _N2Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _O2Condenser
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _O2Evaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _ShieldingSynthesis
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION {
	name = _PartAssembly
	density = 0.0
	isVisible = false
}