// ============================================================================
// Orbita Kerbalism - default profile
// ============================================================================

Profile {
	name = Orbita

	// Resource notifications
	Supply {
		resource = ElectricCharge
		on_eva = 33.0
		on_rescue = 10000.0
		low_message = #OrbitaLoc_Kerbalism_alert_battery_low
		empty_message = #OrbitaLoc_Kerbalism_alert_battery_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_battery_refilled
	}
  
	Supply {
		resource = Food
		on_pod = 1.35    // 5 days
		on_rescue = 2.2  // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_food_low
		empty_message = #OrbitaLoc_Kerbalism_alert_food_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_food_refilled
	}
	
	Supply {
		resource = Water
		on_pod = 0.7     // 5 days
		on_rescue = 1.1  // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_water_low
		empty_message = #OrbitaLoc_Kerbalism_alert_water_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_water_refilled
	}
	
	Supply {
		resource = Oxygen
		on_pod = 187      // 5 days
		on_eva = 12.5     // 2 hrs
		on_rescue = 298   // 8 days
		low_message = #OrbitaLoc_Kerbalism_alert_oxygen_low
		empty_message = #OrbitaLoc_Kerbalism_alert_oxygen_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_oxygen_refilled
	}
	
	Supply {
		resource = Nitrogen
		on_rescue = 100.0
		low_message = #OrbitaLoc_Kerbalism_alert_nitrogen_low
		empty_message = #OrbitaLoc_Kerbalism_alert_nitrogen_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_nitrogen_refilled
	}
	
	Supply {
		resource = CarbonDioxide
		low_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_low
		empty_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_empty
		refill_message = #OrbitaLoc_Kerbalism_alert_carbondioxide_refilled
	}

	// Systems
	Rule {
		name = climatization
		title = #OrbitaLoc_Kerbalism_rules_climatization_name
		input = ElectricCharge
		rate = 0.0001 // per-kelvin (temp diff), per m^3 (living space), per-second
		degeneration = 0.00000007 // about 2h at 100k temp diff in 20m^3
		modifier = temperature,volume,per_capita
		warning_message = #OrbitaLoc_Kerbalism_rules_climatization_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_climatization_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_climatization_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_climatization_relax
	}
	
	Rule {
		name = eating
		title = #OrbitaLoc_Kerbalism_rules_eating_name
		input = Food
		output = Waste
		rate = 0.1312141885 // Based on ISS figures of dehydrated food of 0.59Kg/meal 3 times/day = 1.77Kg/day.
							// Kerbals use 1/16 of an astronauts use and have 2 meals/day giving figures of 0.036875Kg/meal = 0.07375Kg/day
							// Food to Waste mass difference is calculated internally
		interval = 10800.0  // 2 meals per-day
		individuality = 0.01
		degeneration = 0.03333 // 30 meals, 15 days
		warning_message = #OrbitaLoc_Kerbalism_rules_eating_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_eating_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_eating_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_eating_relax
	}
	
	Rule {
		name = drinking
		title = #OrbitaLoc_Kerbalism_rules_drinking_name
		input = Water
		output = WasteWater
		rate = 0.03359375 // Based on ISS figures of 1.62Kg/day drinking and 0.8Kg/day to rehydrate food 3 times/day = 2.42 Kg/day.
						  // Kerbals use 1/16 of an astronauts use and have 2 meals/day giving figures of 0.10125Kg/day drinking
						  // and 0.033125Kg/day to rehydrate food 2 times/day = 0.134375Kg/day.
						  // Water to WasteWater mass difference is calculated internally.
		interval = 5400.0 // 4 drinks per-day
		degeneration = 0.08333 // 12 drinks, 3 days
		individuality = 0.01
		warning_message = #OrbitaLoc_Kerbalism_rules_drinking_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_drinking_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_drinking_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_drinking_relax
	}
	
	Rule {
		name = breathing
		title = #OrbitaLoc_Kerbalism_rules_breathing_name
		input = Oxygen
		output = WasteAtmosphere
		rate = 0.00172379825 // Based on ISS figures of 0.84Kg/day. Kerbals use 1/16 of an astronauts use giving figures of 0.0525Kg/day.
							 // Oxygen to WasteAtmosphere mass difference is calculated internally
		degeneration = 0.0055555 // 3 minutes
		modifier = non_breathable
		individuality = 0.01
		warning_message = #OrbitaLoc_Kerbalism_rules_breathing_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_breathing_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_breathing_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_breathing_relax
	}
	
	Rule {
		name = co2level
		title = #OrbitaLoc_Kerbalism_rules_co2level_name
		degeneration = 0.0005555 // 30 minutes
		modifier = poisoning
		warning_threshold = 0.23
		warning_message = #OrbitaLoc_Kerbalism_rules_co2level_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_co2level_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_breathing_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_breathing_relax
	}
	
	Rule {
		name = stress
		title = #OrbitaLoc_Kerbalism_rules_stress_name
		degeneration = 0.00000000463 // 10000 days
		variance = 0.33 // add per-kerbal variance
		individuality = 0.1
		modifier = living_space,comfort,pressure
		breakdown = true // trigger breakdown event instead of death
		warning_message = #OrbitaLoc_Kerbalism_rules_stress_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_stress_danger
		relax_message = #OrbitaLoc_Kerbalism_rules_stress_relax
	}
	
	Rule {
		name = radiation
		title = #OrbitaLoc_Kerbalism_rules_radiation_name
		degeneration = 1.0 // just use the modifier
		variance = 0.1 // add per-kerbal variance
		individuality = 0.15
		lifetime = true // this is a life time value
		modifier = radiation,shielding
		warning_threshold = 25.0
		danger_threshold = 37.5
		fatal_threshold = 50.0
		warning_message = #OrbitaLoc_Kerbalism_rules_radiation_warning
		danger_message = #OrbitaLoc_Kerbalism_rules_radiation_danger
		fatal_message = #OrbitaLoc_Kerbalism_rules_radiation_fatal
		relax_message = #OrbitaLoc_Kerbalism_rules_radiation_relax
	}
	
	// Processes
	Process {
		// convention: 1 capacity = enough to scrub output of 1 crew member for 1 day
		name = non-regenerative_scrubber
		title = #OrbitaLoc_Kerbalism_process_nonregenscrubber
		modifier = _NonRegenScrubber
		input = WasteAtmosphere@0.0024915995    // efficiency starts at 2 (2 x a pods scrubber), reaches 1 in 6h, then drops below
		input = _NonRegenScrubber@0.000023148   // consume 0.5 capacity in 6h, simulates the scrubber wearing out over time.
	}
	RESOURCE_DEFINITION {
		name = _NonRegenScrubber
		density = 0.0
		isVisible = false
	}
	
	Process {
		// convention: 1 capacity = enough to scrub output of 1 crew member
		name = scrubber
		title = #OrbitaLoc_Kerbalism_process_scrubber
		modifier = _Scrubber
		input = ElectricCharge@0.025
		input = WasteAtmosphere@0.00124579975
		output = CarbonDioxide@0.00124579975
		dump = true
	}
	RESOURCE_DEFINITION {
		name = _Scrubber
		density = 0.0
		isVisible = false
	}
	
	Process {
		// convention: 1 capacity = enough to compensate for leaks in 70 m² surface area (a cube of 40 m³ volume, edge length of 3.42 m) per crew member
		// = 0.00025624796502 N2 to replace the Atmosphere leaked via the atmo leaks process for the above approx needed surface area per crew member
		name = pressurecontrol
		title = #OrbitaLoc_Kerbalism_process_pressurecontrol
		modifier = _PressureControl,non_breathable
		input = ElectricCharge@0.00858
		input = Nitrogen@0.35  // Much higher than amount needed for leak control to allow speedier pressurization of low pressure habs and inflatables
		output = Atmosphere@0.35
	}
	RESOURCE_DEFINITION {
		name = _PressureControl
		density = 0.0
		isVisible = false
	}
	
	Process {
		// convention: When the vessel is in a breathable atmosphere, pressure control is automatically disabled and the air pump will pump air
		// into the vessel to maintain pressurization of any habitable areas, one example is inflating inflatable habitats without using any
		// N2 when a breathable atmosphere is present.
		name = airpump
		title = #OrbitaLoc_Kerbalism_process_airpump
		modifier = _AirPump,breathable
		input = ElectricCharge@0.00258
		output = Atmosphere@7.35
	}
	RESOURCE_DEFINITION {
		name = _AirPump
		density = 0.0
		isVisible = false
	}
	
	Process {
		// convention: 1 capacity = enough to recycle output of 1 crew member
		name = waterrecycler
		title = #OrbitaLoc_Kerbalism_process_waterrecycler
		modifier = _WaterRecycler
		input = ElectricCharge@0.0446
		input = WasteWater@0.00000619
		output = Water@0.000005262975 // ISS currently achieves 75% Water recovery from urine, although its design target was 85% (quality of urine is issue), we use the design target to be gentle on our users
		output = Ammonia@0.0000361969 // Based on https://en.wikipedia.org/wiki/Urine assume we recover 90% of 0.5% mass percentage of Ammonia, keep in mind Ammonia is far less dense than Water
		output = CarbonDioxide@0.0000142678 // Based on https://en.wikipedia.org/wiki/Urine assume we recover 90% of 0.5% mass percentage of CarbonDioxide, keep in mind CO2 is far less dense than Water
		dump_valve = Water,Ammonia,CarbonDioxide,Water&Ammonia,Water&CarbonDioxide,Ammonia&CarbonDioxide
	}
	RESOURCE_DEFINITION {
		name = _WaterRecycler
		density = 0.0
		isVisible = false
	}


}
