// Convert Fuel Tanks

// Rocket Tanks
@PART[*]:HAS[@RESOURCE[LiquidFuel],@RESOURCE[Oxidizer]]:LAST[zzzOrbitaKerbalism] {
	wetMass = #$/RESOURCE[LiquidFuel]/maxAmount$
	@wetMass += #$/RESOURCE[Oxidizer]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[LiquidFuel]/density$
	@RESOURCE[LiquidFuel] {
		@name = Kerosene
		@amount = #$/wetMass$
		@amount *= 0.333333333
		@amount /= #$@RESOURCE_DEFINITION[Kerosene]/density$
		@maxAmount = #$amount$
	}
	@RESOURCE[Oxidizer] {
		@name = LqdOxygen
		@amount = #$/wetMass$
		@amount *= 0.666666667
		@amount /= #$@RESOURCE_DEFINITION[LqdOxygen]/density$
		@maxAmount = #$amount$
	}
}

// Jet Tanks
@PART[*]:HAS[@RESOURCE[LiquidFuel],!RESOURCE[Oxidizer]]:LAST[zzzOrbitaKerbalism]
{
	wetMass = #$/RESOURCE[LiquidFuel]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[LiquidFuel]/density$
	@RESOURCE[LiquidFuel] {
		@name = Kerosene
		@amount = #$/wetMass$
		@amount /= #$@RESOURCE_DEFINITION[Kerosene]/density$
		@maxAmount = #$amount$
	}
}

// Hydrogen Tanks
@PART[*]:HAS[@RESOURCE[LqdHydrogen],@RESOURCE[Oxidizer]]:NEEDS[CryoTanks]:LAST[zzzOrbitaKerbalism]
{
	wetMass = #$/RESOURCE[Oxidizer]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[Oxidizer]/density$
	@RESOURCE[Oxidizer] {
		@name = LqdOxygen
		@amount = #$/wetMass$
		@amount /= #$@RESOURCE_DEFINITION[LqdOxygen]/density$
		@maxAmount = #$amount$
	}
}

// Methane Tanks
@PART[*]:HAS[@RESOURCE[LqdMethane],@RESOURCE[Oxidizer]]:NEEDS[CryoTanks]:LAST[zzzOrbitaKerbalism]
{
	wetMass = #$/RESOURCE[Oxidizer]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[Oxidizer]/density$
	@RESOURCE[Oxidizer] {
		@name = LqdOxygen
		@amount = #$/wetMass$
		@amount /= #$@RESOURCE_DEFINITION[LqdOxygen]/density$
		@maxAmount = #$amount$
	}
}

// RCS Tanks
@PART[*]:HAS[@RESOURCE[MonoPropellant]]:LAST[zzzOrbitaKerbalism]
{
	wetMass = #$/RESOURCE[MonoPropellant]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[MonoPropellant]/density$
	@RESOURCE[MonoPropellant] {
		@name = Hydrazine
		@amount = #$/wetMass$
		@amount /= #$@RESOURCE_DEFINITION[Hydrazine]/density$
		@maxAmount = #$amount$
	}
}

// Solid Boosters
@PART[*]:HAS[@RESOURCE[SolidFuel]]:LAST[zzzOrbitaKerbalism]
{
	wetMass = #$/RESOURCE[SolidFuel]/maxAmount$
	@wetMass *= #$@RESOURCE_DEFINITION[SolidFuel]/density$
	@RESOURCE[SolidFuel] {
		@name = Octogen
		@amount = #$/wetMass$
		@amount /= #$@RESOURCE_DEFINITION[Octogen]/density$
		@maxAmount = #$amount$
	}
}