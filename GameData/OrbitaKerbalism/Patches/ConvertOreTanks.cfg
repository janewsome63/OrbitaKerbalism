// Convert Ore Tanks

// Universal
@PART[*]:HAS[@RESOURCE[Ore]]:LAST[zzzOrbitaKerbalism] {
	volumeTotal = #$RESOURCE[Ore]/maxAmount$
	@volumeTotal *= 5 // Stock ore is 5 vol/unit
	!RESOURCE[Ore] {}
	MODULE {
		name = ModuleB9PartSwitch
		moduleID = OrbitaSwitch
		baseVolume = #$/volumeTotal$
		switchInFlight = True
		
		// Solids
		SUBTYPE {
			name = Aluminium
			tankType = OK_Aluminium
			title = #LOC_CRP_Aluminium_DisplayName
		}
		SUBTYPE {
			name = Crystals
			tankType = OK_Crystals
			title = #OrbitaLoc_Crystals_displayName
		}
		SUBTYPE {
			name = Ices
			tankType = OK_Ices
			title = #OrbitaLoc_Ices_displayName
		}
		SUBTYPE {
			name = Metallics
			tankType = OK_Metallics
			title = #OrbitaLoc_Metallics_displayName
		}
		SUBTYPE {
			name = Rocks
			tankType = OK_Rocks
			title = #OrbitaLoc_Rocks_displayName
		}
		SUBTYPE {
			name = Salts
			tankType = OK_Salts
			title = #OrbitaLoc_Salts_displayName
		}
		SUBTYPE {
			name = Silicon
			tankType = OK_Silicon
			title = #LOC_CRP_Silicon_DisplayName
		}
		SUBTYPE {
			name = Uraninite
			tankType = OK_Uraninite
			title = #LOC_CRP_Uraninite_DisplayName
		}
		
		// Liquids (non-cryogenic)
		SUBTYPE {
			name = HydrogenPeroxide
			tankType = OK_HydrogenPeroxide
			title = #OrbitaLoc_HydrogenPeroxide_displayName
		}
		SUBTYPE {
			name = Petroleum
			tankType = OK_Petroleum
			title = #OrbitaLoc_Petroleum_displayName
		}
		SUBTYPE {
			name = Water
			tankType = OK_Water
			title = #LOC_CRP_Water_DisplayName
		}
		
		// Gases
		SUBTYPE {
			name = Ammonia
			tankType = OK_Ammonia
			title = #LOC_CRP_Ammonia_DisplayName
		}
		SUBTYPE {
			name = CarbonDioxide
			tankType = OK_CarbonDioxide
			title = #LOC_CRP_CarbonDioxide_DisplayName
		}
		SUBTYPE {
			name = Hydrogen
			tankType = OK_Hydrogen
			title = #LOC_CRP_Hydrogen_DisplayName
		}
		SUBTYPE {
			name = Methane
			tankType = OK_Methane
			title = #LOC_CRP_Methane_DisplayName
		}
		SUBTYPE {
			name = Nitrogen
			tankType = OK_Nitrogen
			title = #LOC_CRP_Nitrogen_DisplayName
		}
		SUBTYPE {
			name = Oxygen
			tankType = OK_Oxygen
			title = #LOC_CRP_Oxygen_DisplayName
		}
	}
}